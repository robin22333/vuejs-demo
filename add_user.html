<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8" />
  <title>vue.js demo</title>
  <link rel="stylesheet" href="static/css/uikit.min.css">
  <link rel="stylesheet" href="static/css/uikit.gradient.min.css">
  <script src="static/js/jquery.min.js"></script>
  <script src="static/js/vue.js"></script>
  <script>
    $(function(){
        var vm = new Vue({
            el:"#vm",
            data:{
                name:"",
	        email:"",
	        password:"",
	        password2:""
            },
            methods:{
                submit:function() {
	            if(confirm("确认要注册吗")) {
	                register({
	                    name:this.name,
		            email:this.email,
		            password:this.password,
		            password2:this.password
	                });
	            }
                }
            }
        });
    });
    function register(user) {
        var url = "/user/reg?name=" + user.name + "&email=" + user.email + "&password=" + user.password + "&password2=" + user.password2;
        console.log(url);
        alert('注册成功');
    }
  </script>
</head>
<body>
  <div class="uk-container uk-container-center">
    <div class="uk-grid">
      <div class="uk-width-2-3">
	<hr />
	<h1>Welcome</h1>
        <form id="vm" v-on="submit:submit" class="uk-form uk-form-stacked">
          <div class="uk-form-row">
	    <label class="uk-form-label">用户名:</label>
	    <div class="uk-form-controls">
	      <input v-model="name" type="text" maxlength="50" placeholder="用户名" class="uk-width-1-1" />
	    </div>
	  </div>
	  <div class="uk-form-row">
	    <label class="uk-form-label">电子邮箱:</label>
	    <div class="uk-form-controls">
	      <input v-model="email" type="text" maxlength="50" placeholder="your-name@example.com" class="uk-width-1-1" />
	    </div>
   	  </div>
	  <div class="uk-form-row">
	    <label class="uk-form-label">输入口令:</label>
	    <div class="uk-form-controls">
	      <input v-model="password" type="password" maxlength="50" placeholder="输入口令" class="uk-width-1-1" />
	    </div>
	  </div>
	  <div class="uk-form-row">
	    <label class="uk-form-label">重复口令:</label>
	    <div class="uk-form-controls">
	      <input v-model="password2" type="password" maxlength="50" placeholder="重复口令" class="uk-width-1-1" />
            </div>
	  </div>
          <div class="uk-form-row">
	    <button type="submit" class="uk-button uk-button-primary"><i class="uk-icon-user"></i>注册</button>
	  </div>
	</form>
      </div>
    </div>
  </div>
</body>
</html>
